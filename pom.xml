<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>io.scalecube</groupId>
  <artifactId>scalecube-parent-pom</artifactId>
  <version>0.0.6-SNAPSHOT</version>
  <packaging>pom</packaging>
  <name>ScaleCube parent project</name>
  <description>
    ScaleCube is a lightweight decentralized cluster membership, failure detection, messaging and
    gossip protocol library for the Java VM.
  </description>
  <inceptionYear>2015</inceptionYear>
  <url>http://scalecube.io</url>
  <licenses>
    <license>
      <name>The Apache License, Version 2.0</name>
      <url>http://www.apache.org/licenses/LICENSE-2.0.txt</url>
    </license>
  </licenses>
  <scm>
    <url>https://scalecube.io</url>
    <connection>scm:git:git@github.com:scalecube/scalecube-parent.git</connection>
    <developerConnection>scm:git:git@github.com:scalecube/scalecube-parent.git</developerConnection>
    <tag>HEAD</tag>
  </scm>
  <distributionManagement>
    <snapshotRepository>
      <id>ossrh</id>
      <url>https://oss.sonatype.org/content/repositories/snapshots</url>
    </snapshotRepository>
    <repository>
      <id>ossrh</id>
      <url>https://oss.sonatype.org/service/local/staging/deploy/maven2/</url>
    </repository>
  </distributionManagement>
  <prerequisites>
    <maven>3.0.3</maven>
  </prerequisites>
  <developers>
    <developer>
      <id>scalecube.io</id>
      <name>The ScaleCube Project Contributors</name>
      <email>info@scalecube.io</email>
      <organization>The ScaleCube Project</organization>
      <organizationUrl>http://scalecube.io/</organizationUrl>
    </developer>
  </developers>
  <properties>
    <style-project.version>0.0.5-SNAPSHOT</style-project.version>

    <maven-compiler-plugin.version>3.7.0</maven-compiler-plugin.version>
    <maven-source-plugin.version>3.0.1</maven-source-plugin.version>
    <maven-javadoc-plugin.version>2.10.4</maven-javadoc-plugin.version>
    <maven-surefire-plugin.version>2.21.0</maven-surefire-plugin.version>
    <maven-gpg-plugin.version>1.6</maven-gpg-plugin.version>
    <nexus-staging-maven-plugin.version>1.6.8</nexus-staging-maven-plugin.version>
    <maven-release-plugin.version>2.5.3</maven-release-plugin.version>
    <maven-enforcer-plugin.version>3.0.0-M1</maven-enforcer-plugin.version>
    <maven-shade-plugin.version>3.1.0</maven-shade-plugin.version>
    <maven-pmd-plugin.version>3.10.0</maven-pmd-plugin.version>
    <maven-checkstyle-plugin.version>3.0.0</maven-checkstyle-plugin.version>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.7.0</version>
        <configuration>
          <source>1.8</source>
          <target>1.8</target>
          <optimize>true</optimize>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-checkstyle-plugin</artifactId>
        <version>${maven-checkstyle-plugin.version}</version>
        <executions>
          <execution>
            <id>checkstyle</id>
            <goals>
              <goal>check</goal>
            </goals>
            <phase>validate</phase>
            <configuration>
              <checkstyleRules>
                <module name="Checker">
                  <property name="charset" value="UTF-8" />
                  <property name="severity" value="warning" />
                  <!-- Checks for whitespace -->
                  <!-- See http://checkstyle.sf.net/config_whitespace.html -->
                  <module name="FileTabCharacter">
                    <property name="eachLine" value="true" />
                  </module>
                  <module name="TreeWalker">
                    <module name="OuterTypeFilename" />
                    <module name="IllegalTokenText">
                      <property name="tokens" value="STRING_LITERAL, CHAR_LITERAL" />
                      <property name="format" value="\\u00(08|09|0(a|A)|0(c|C)|0(d|D)|22|27|5(C|c))|\\(0(10|11|12|14|15|42|47)|134)" />
                      <property name="message" value="Avoid using corresponding octal or Unicode escape." />
                    </module>
                    <module name="AvoidEscapedUnicodeCharacters">
                      <property name="allowEscapesForControlCharacters" value="true" />
                      <property name="allowByTailComment" value="true" />
                      <property name="allowNonPrintableEscapes" value="true" />
                    </module>
                    <module name="LineLength">
                      <property name="max" value="120" />
                      <property name="ignorePattern" value="^package.*|^import.*|a href|href|http://|https://|ftp://" />
                    </module>
                    <module name="AvoidStarImport" />
                    <module name="OneTopLevelClass" />
                    <module name="NoLineWrap" />
                    <module name="EmptyBlock">
                      <property name="option" value="TEXT" />
                      <property name="tokens" value="LITERAL_TRY, LITERAL_CATCH, LITERAL_FINALLY, LITERAL_IF, LITERAL_ELSE, LITERAL_SWITCH" />
                    </module>
                    <module name="NeedBraces" />
                    <module name="LeftCurly">
                      <property name="maxLineLength" value="140" />
                    </module>
                    <module name="RightCurly" />
                    <module name="RightCurly">
                      <property name="option" value="alone" />
                      <property name="tokens" value="CLASS_DEF, METHOD_DEF, CTOR_DEF, LITERAL_FOR, LITERAL_WHILE, LITERAL_DO, STATIC_INIT, INSTANCE_INIT" />
                    </module>
                    <module name="WhitespaceAround">
                      <property name="allowEmptyConstructors" value="true" />
                      <property name="allowEmptyMethods" value="true" />
                      <property name="allowEmptyTypes" value="true" />
                      <property name="allowEmptyLoops" value="true" />
                      <message key="ws.notFollowed" value="WhitespaceAround: ''{0}'' is not followed by whitespace." />
                      <message key="ws.notPreceded" value="WhitespaceAround: ''{0}'' is not preceded with whitespace." />
                    </module>
                    <module name="OneStatementPerLine" />
                    <module name="MultipleVariableDeclarations" />
                    <module name="ArrayTypeStyle" />
                    <module name="MissingSwitchDefault" />
                    <module name="FallThrough" />
                    <module name="UpperEll" />
                    <module name="ModifierOrder" />
                    <module name="EmptyLineSeparator">
                      <property name="allowNoEmptyLineBetweenFields" value="true" />
                    </module>
                    <module name="SeparatorWrap">
                      <property name="tokens" value="DOT" />
                      <property name="option" value="nl" />
                    </module>
                    <module name="SeparatorWrap">
                      <property name="tokens" value="COMMA" />
                      <property name="option" value="EOL" />
                    </module>
                    <module name="PackageName">
                      <property name="format" value="^[a-z]+(\.[a-z][a-z0-9]*)*$" />
                      <message key="name.invalidPattern" value="Package name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="TypeName">
                      <message key="name.invalidPattern" value="Type name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="MemberName">
                      <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9]*$" />
                      <message key="name.invalidPattern" value="Member name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="ParameterName">
                      <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9]*$" />
                      <message key="name.invalidPattern" value="Parameter name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="LocalVariableName">
                      <property name="tokens" value="VARIABLE_DEF" />
                      <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9]*$" />
                      <property name="allowOneCharVarInForLoop" value="true" />
                      <message key="name.invalidPattern" value="Local variable name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="ClassTypeParameterName">
                      <property name="format" value="(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)" />
                      <message key="name.invalidPattern" value="Class type name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="MethodTypeParameterName">
                      <property name="format" value="(^[A-Z][0-9]?)$|([A-Z][a-zA-Z0-9]*[T]$)" />
                      <message key="name.invalidPattern" value="Method type name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="NoFinalizer" />
                    <module name="GenericWhitespace">
                      <message key="ws.followed" value="GenericWhitespace ''{0}'' is followed by whitespace." />
                      <message key="ws.preceded" value="GenericWhitespace ''{0}'' is preceded with whitespace." />
                      <message key="ws.illegalFollow" value="GenericWhitespace ''{0}'' should followed by whitespace." />
                      <message key="ws.notPreceded" value="GenericWhitespace ''{0}'' is not preceded with whitespace." />
                    </module>
                    <module name="Indentation">
                      <property name="basicOffset" value="2" />
                      <property name="braceAdjustment" value="0" />
                      <property name="caseIndent" value="2" />
                      <property name="throwsIndent" value="4" />
                      <property name="lineWrappingIndentation" value="4" />
                      <property name="arrayInitIndent" value="2" />
                    </module>
                    <module name="AbbreviationAsWordInName">
                      <property name="ignoreFinal" value="false" />
                      <property name="allowedAbbreviationLength" value="1" />
                    </module>
                    <module name="OverloadMethodsDeclarationOrder" />
                    <module name="VariableDeclarationUsageDistance" />
                    <module name="CustomImportOrder">
                      <property name="thirdPartyPackageRegExp" value=".*" />
                      <property name="specialImportsRegExp" value="io.scalecube" />
                      <property name="customImportOrderRules" value="STATIC###SPECIAL_IMPORTS###THIRD_PARTY_PACKAGE###STANDARD_JAVA_PACKAGE" />
                    </module>
                    <module name="MethodParamPad" />
                    <module name="OperatorWrap">
                      <property name="option" value="NL" />
                      <property name="tokens" value="BAND, BOR, BSR, BXOR, DIV, EQUAL, GE, GT, LAND, LE, LITERAL_INSTANCEOF, LOR, LT, MINUS, MOD, NOT_EQUAL, PLUS, QUESTION, SL, SR, STAR " />
                    </module>
                    <module name="AnnotationLocation">
                      <property name="tokens" value="CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF" />
                    </module>
                    <module name="AnnotationLocation">
                      <property name="tokens" value="VARIABLE_DEF" />
                      <property name="allowSamelineMultipleAnnotations" value="true" />
                    </module>
                    <module name="NonEmptyAtclauseDescription" />
                    <module name="JavadocTagContinuationIndentation" />
                    <module name="SummaryJavadocCheck">
                      <property name="forbiddenSummaryFragments" value="^@return the *|^This method returns |^A [{]@code [a-zA-Z0-9]+[}]( is a )" />
                    </module>
                    <module name="JavadocParagraph" />
                    <module name="AtclauseOrder">
                      <property name="tagOrder" value="@param, @return, @throws, @deprecated" />
                      <property name="target" value="CLASS_DEF, INTERFACE_DEF, ENUM_DEF, METHOD_DEF, CTOR_DEF, VARIABLE_DEF" />
                    </module>
                    <module name="JavadocMethod">
                      <property name="scope" value="public" />
                      <property name="allowMissingParamTags" value="true" />
                      <property name="allowMissingThrowsTags" value="true" />
                      <property name="allowMissingReturnTag" value="true" />
                      <property name="minLineCount" value="4" />
                      <property name="allowedAnnotations" value="Override, Test" />
                      <property name="allowThrowsTagsForSubclasses" value="true" />
                    </module>
                    <module name="MethodName">
                      <property name="format" value="^[a-z][a-z0-9][a-zA-Z0-9_]*$" />
                      <message key="name.invalidPattern" value="Method name ''{0}'' must match pattern ''{1}''." />
                    </module>
                    <module name="SingleLineJavadoc" />
                  </module>
                </module>
              </checkstyleRules>
              <consoleOutput>true</consoleOutput>
              <violationSeverity>warning</violationSeverity>
              <failsOnError>true</failsOnError>
              <maxAllowedViolations>0</maxAllowedViolations>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-release-plugin</artifactId>
        <version>${maven-release-plugin.version}</version>
        <configuration>
          <autoVersionSubmodules>true</autoVersionSubmodules>
          <useReleaseProfile>false</useReleaseProfile>
          <releaseProfiles>release</releaseProfiles>
          <tagNameFormat>v@{project.version}</tagNameFormat>
          <goals>deploy</goals>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.sonatype.plugins</groupId>
        <artifactId>nexus-staging-maven-plugin</artifactId>
        <version>${nexus-staging-maven-plugin.version}</version>
        <extensions>true</extensions>
        <configuration>
          <serverId>ossrh</serverId>
          <nexusUrl>https://oss.sonatype.org/</nexusUrl>
          <autoReleaseAfterClose>true</autoReleaseAfterClose>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <version>${maven-enforcer-plugin.version}</version>
        <executions>
          <execution>
            <id>enforce</id>
            <goals>
              <goal>enforce</goal>
            </goals>
            <configuration>
              <rules>
                <reactorModuleConvergence>
                  <message>The reactor is not valid</message>
                  <ignoreModuleDependencies>true</ignoreModuleDependencies>
                </reactorModuleConvergence>
                <dependencyConvergence />
              </rules>
              <!-- TODO: enable this -->
              <fail>false</fail>
              <!-- TODO: enable this -->
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-source-plugin</artifactId>
        <version>${maven-source-plugin.version}</version>
        <executions>
          <execution>
            <id>attach-sources</id>
            <phase>post-integration-test</phase>
            <goals>
              <goal>jar-no-fork</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-pmd-plugin</artifactId>
      </plugin>
    </plugins>
  </build>
  <profiles>
    <profile>
      <id>release</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-gpg-plugin</artifactId>
            <version>${maven-gpg-plugin.version}</version>
            <executions>
              <execution>
                <id>sign-artifacts</id>
                <goals>
                  <goal>sign</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-source-plugin</artifactId>
            <version>${maven-source-plugin.version}</version>
            <executions>
              <execution>
                <id>attach-sources</id>
                <phase>post-integration-test</phase>
                <goals>
                  <goal>jar-no-fork</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <version>${maven-javadoc-plugin.version}</version>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <phase>post-integration-test</phase>
                <goals>
                  <goal>jar</goal>
                </goals>
                <configuration>
                  <additionalparam>-Xdoclint:none</additionalparam>
                </configuration>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>
</project>